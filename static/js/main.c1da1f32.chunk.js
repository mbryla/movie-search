(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,r){e.exports=r(30)},28:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(16),c=r.n(o),i=r(6),l=(r(28),r(3)),s=r(4),u=r(7),h=r(5),m=r(8),v=r(1),f="http://www.omdbapi.com/?apikey=".concat("f395a408");var E="FETCHING_MOVIE",d="RECEIVED_MOVIE",p="FAILED_TO_RECEIVE_MOVIE",b="FETCHING_MOVIES",y="RECEIVED_MOVIES",g="FAILED_TO_RECEIVE_MOVIES";function O(e,t){return function(r){r(function(e,t){return{type:b,title:e,releaseYear:t}}(e,t)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="".concat(f,"&s=").concat(e,"&page=").concat(r);return t&&(n+="&y=".concat(t)),fetch(n).then(function(e){return e.json()})}(e,t).then(function(e){return e.Error?r(j(e.Error)):r((t=e.Search,{type:y,movies:t}));var t}).catch(function(e){return r(j(e))})}}function j(e){return{type:g,error:e}}var w=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={title:"",releaseYear:""},r.onTitleChange=function(e){r.setState(Object(v.a)({},r.state,{title:e.target.value}))},r.onYearChange=function(e){r.setState(Object(v.a)({},r.state,{releaseYear:e.target.value}))},r.onKeyPress=function(e){"Enter"===e.key&&r.onSearch()},r.onSearch=function(){var e=r.props.dispatchFetchMovie,t=r.state;e(t.title,t.releaseYear)},r}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"search"},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"search-title"},"Title"),a.a.createElement("input",{id:"search-title",name:"title",type:"text",value:this.state.title,onChange:this.onTitleChange,onKeyPress:this.onKeyPress})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"search-year"},"Release Year"),a.a.createElement("input",{id:"search-year",name:"release year",type:"number",min:"1900",max:"2019",value:this.state.releaseYear,onChange:this.onYearChange,onKeyPress:this.onKeyPress})),a.a.createElement("div",null,a.a.createElement("label",null,"\xa0"),a.a.createElement("button",{type:"button",onClick:this.onSearch},"search")))}}]),t}(n.PureComponent),C=Object(i.b)(function(){return{}},function(e){return{dispatchFetchMovie:function(t,r){e(O(t,r))}}})(w),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderMovies",value:function(){return this.props.movies.map(function(e){return a.a.createElement("li",{key:e.imdbID,className:"movie"},a.a.createElement("img",{src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/e/e6/Movie_stub_film.svg":e.Poster,alt:"poster of a movie ".concat(e.Title)}),a.a.createElement("h1",null,e.Title),a.a.createElement("h2",null,e.Year))})}},{key:"getErrorMessage",value:function(e,t,r){switch(e){case"Movie not found!":return t?r?"Could not find a movie with a title '".concat(t,"' released in ").concat(r,"..."):"Could not find a movie with a title '".concat(t,"'..."):"We cannot search for movies without a title :(";case"Too many results.":return"That search yielded too many results. Please try to narrow down your search...";default:return"Unexpected error occurred. Sorry, please try again..."}}},{key:"renderError",value:function(){var e=this.props.fetching,t=e.title,r=e.releaseYear,n=e.error;return a.a.createElement("div",{className:"error"},a.a.createElement("p",null,this.getErrorMessage(n,t,r)))}},{key:"render",value:function(){var e=this.props.fetching,t=e.title,r=e.releaseYear,n=e.error;return(t||r)&&n?this.renderError():a.a.createElement("ul",{className:"movies"},this.renderMovies())}}]),t}(n.PureComponent),I=Object(i.b)(function(e){return{movies:e.movies,fetching:e.fetching}},function(){return{}})(k),M=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(C,null),a.a.createElement(I,null))}}]),t}(n.Component),Y=r(10),_=r(18),T={movies:[],fetching:{error:"",title:"",releaseYear:""}},P=Object(Y.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case b:return Object(v.a)({},T,{fetching:{error:"",title:t.title,releaseYear:t.releaseYear}});case d:return Object(v.a)({},e,{movies:null===t.movie?[]:[t.movie]});case y:return Object(v.a)({},e,{movies:null===t.movies?[]:t.movies});case p:case g:return Object(v.a)({},e,{fetching:Object(v.a)({},e.fetching,{error:t.error})});default:return e}},Object(Y.a)(_.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:P},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.c1da1f32.chunk.js.map